// https://www.redditstatic.com/desktop2x/WrappedReddit.3f26814d25294abde666.js
// Retrieved at 11/4/2021, 3:00:05 PM by Reddit Dataminer v1.0.0
(window.__LOADABLE_LOADED_CHUNKS__ = window.__LOADABLE_LOADED_CHUNKS__ || []).push([
	["WrappedReddit"], {
		"./src/reddit/components/Media/LoadingIcon/index.m.less": function(e, a, t) {
			e.exports = {
				image: "_1Wd26c2ichqUxeZVJStEJT"
			}
		},
		"./src/reddit/components/Media/LoadingIcon/index.tsx": function(e, a, t) {
			"use strict";
			var r = t("./node_modules/react/index.js"),
				n = t.n(r),
				s = t("./src/config.ts"),
				c = t("./src/reddit/components/Media/LoadingIcon/index.m.less"),
				d = t.n(c);
			a.a = () => n.a.createElement("img", {
				className: d.a.image,
				src: `${s.a.assetPath}/img/loading.gif`
			})
		},
		"./src/reddit/pages/WrappedReddit/Carousel/index.m.less": function(e, a, t) {
			e.exports = {
				carousel: "sLLDRdg6QdhlK0LqJvfi7",
				buttonsWrapper: "KpMLEPYvCluY4sZ6rhE7",
				ctaButton: "_2FYxW2MvghHNY6Up6fywCR",
				pager: "_3awt0Ajh4khxxmGRRupQ6t",
				progressDot: "_3gi75d2lmY2lSAkpTt6aJO",
				active: "_1VXJhfgd81c7po-cIzGKjc",
				nextDot: "_2R2s6ELkzFG2L3Erje7d6y",
				modalBody: "_3Z2yos5EcXQMtLJ29WVV4t",
				modalOverlay: "_1Sg7mIPbvCVOZVw2DmwKny",
				container: "_2NjjEJt8dF-WYqrabLQpLm",
				title: "xV-drmuT4oDZARw1tY4Yl",
				titleWrapper: "_3d_lm25ClXkx5lsKEEQDQY",
				insideShareIconsWrapper: "_2v53Btn9Xcl21hng4i0laT",
				closeButton: "_2CSNsKDrDtETp4_fG5_L4d",
				outsideShareIconsWrapper: "_1fQUz65KsSxnOUCYTRaI7Z",
				closeIcon: "_3dzfgPtV7SUJeseMVmK_7",
				insideShareButton: "Nf-4TwYJpRnohoJ0kMSpu",
				insideShareIcon: "rQKftyqwxND8EFiz0CzYQ",
				iconWrapper: "_1asObEzjpwdReuE9Bjn4PH",
				iconText: "_3cs2BRYR0xBmODNjHSk3t0",
				errorWrapper: "_1ZRrGoOUoptUUgD4Tr4U5P",
				errorLogo: "_2rrrjqRbJDkq99piHf7HKC",
				errorText: "_233NC14AqjwsEthl0fLrl"
			}
		},
		"./src/reddit/pages/WrappedReddit/DefaultCard/index.m.less": function(e, a, t) {
			e.exports = {
				contentWrapper: "gm49hjCsGC6TOzPjtcfYV",
				headingWrapper: "_24k045l9p3KDMtBndy9dkk",
				bodyText: "_1ZRSK0zgfFgVvPEsZRbMf1",
				background: "QnCzKJLG1MWOCYWwtuOU5",
				headingSection: "_1n_GYClKIpttTtUqRjv92h",
				headingContent: "_26MB6z-VeAwAgbXt0eF6on",
				headingArt: "_1ECardPXUxRlWYp0VivcX1",
				headingText: "_2ydh6nBoq25NGKNMAAhTya",
				defaultCardImageContainer: "_2lk5C4uMS5pAG0ftffHUEV",
				defaultCardImage: "_1_8GCb-5igqF6v23KlAl10",
				fallbackStaticImage: "_1xfITRPkfuSck3RvKtii5d",
				heading: "_3vPnb6jU8EtwEbphwxPzSz",
				isNightmodeOn: "_1HTQBMvNscUU0XSCK-_T7m",
				wrappedRedditLogo: "_3uiZPbceT-LlaowHj54EQi",
				wrappedRedditPic: "_1hMf4A6Yo2XYF0MnjS5uEM",
				subheading: "_1TDpZwjr5-YTxsiPMiHXBC",
				description: "qOk0ywerqWadQwFvIHmed"
			}
		},
		"./src/reddit/pages/WrappedReddit/IntroCard/index.m.less": function(e, a, t) {
			e.exports = {
				contentWrapper: "_3G9nsgDv_QAtyy9Sy90WB5",
				headingWrapper: "_1Fnc3lN9e3VGmm1Q1srN_V",
				bodyText: "_19OVfdV4OoiTBCIdKot7FW",
				background: "_2nhN8fMIahqnfWDfLN6mDt",
				headingSection: "_1rgd_jhstUBS7RUWAWUKBZ",
				headingContent: "_3a02NtIIg5KCPM3nf7sFYl",
				headingArt: "_2Er9lyRkujKAo5BgnKlpFu",
				headingText: "_2AbCbprFcK0Oo-P3ZlzbAT",
				defaultCardImageContainer: "_2xKAygFy26biGt-X0hqN-2",
				defaultCardImage: "_3F1R7cLwSXh8m6Le8WoaEP",
				fallbackStaticImage: "_3Q4K0nhnTwi46cpt66_LQv",
				heading: "_3K2dQHeJZGf0MkLRh-q561",
				isNightmodeOn: "_33diCevkIKDt3sqYN_XgaS",
				wrappedRedditLogo: "_1-8UHSFDZFr58nwpoEbllb",
				wrappedRedditPic: "_3XcbdPlmIdOjK6h00ktIcQ",
				subheading: "_1R6lB8BZ2-1frKA9NSurma",
				description: "_2yXI3F5cIPJsH6psxur-1k"
			}
		},
		"./src/reddit/pages/WrappedReddit/index.tsx": function(e, a, t) {
			"use strict";
			t.r(a);
			var r, n = t("./node_modules/react/index.js"),
				s = t.n(n),
				c = t("./node_modules/react-redux/es/index.js"),
				d = t("./node_modules/react-router-redux/es/index.js"),
				i = t("./src/lib/classNames/index.ts"),
				l = t("./src/telemetry/models/Media.ts"),
				o = t("./src/reddit/actions/postCreation/mediaUpload.ts"),
				m = t("./src/reddit/actions/wrappedReddit/index.ts"),
				p = t("./src/reddit/components/Media/LoadingIcon/index.tsx"),
				u = t("./src/reddit/controls/Button/index.tsx");
			! function(e) {
				e.Common = "COMMON", e.Rare = "RARE", e.Epic = "EPIC", e.Legendary = "LEGENDARY"
			}(r || (r = {}));
			const g = "PersonalizedYearInReviewIntroCard";
			var b = t("./src/lib/formatApiError/index.ts"),
				h = t("./src/reddit/icons/svgs/Snoo/index.tsx"),
				E = t("./src/reddit/pages/WrappedReddit/Carousel/index.m.less"),
				_ = t.n(E);
			var f = ({
					error: e
				}) => s.a.createElement("div", {
					className: _.a.errorWrapper
				}, s.a.createElement(h.a, {
					className: _.a.errorLogo
				}), s.a.createElement("h1", {
					className: _.a.errorText
				}, Object(b.a)(e))),
				N = (t("./node_modules/core-js/modules/web.dom.iterable.js"), t("./src/config.ts")),
				v = t("./node_modules/lodash/upperFirst.js"),
				C = t.n(v),
				x = t("./src/higherOrderComponents/asModal/index.tsx"),
				w = t("./src/reddit/icons/svgs/Close/index.tsx"),
				j = t("./src/reddit/icons/svgs/Download/index.tsx"),
				k = t("./src/reddit/icons/svgs/PostImage/index.tsx");
			const {
				fbt: O
			} = t("./node_modules/fbt/lib/FbtPublic.js");
			var R;
			! function(e) {
				e.facebook = "facebook", e.twitter = "twitter", e.whatsapp = "whatsapp", e.instagram = "instagram", e.discord = "discord"
			}(R || (R = {}));
			var I = Object(x.a)(({
					closeModal: e,
					postCard: a,
					downloadCard: t
				}) => s.a.createElement("div", {
					className: _.a.container,
					"data-testid": "wrapped-reddit-share-modal"
				}, s.a.createElement("h1", {
					className: _.a.title
				}, O._("Share", null, {
					hk: "Je0uL"
				})), s.a.createElement("button", {
					className: _.a.closeButton,
					onClick: e
				}, s.a.createElement(w.a, {
					className: _.a.closeIcon
				})), s.a.createElement("div", {
					className: _.a.insideShareIconsWrapper
				}, s.a.createElement("div", {
					className: _.a.iconWrapper
				}, s.a.createElement("button", {
					className: _.a.insideShareButton,
					onClick: a
				}, s.a.createElement(k.a, {
					className: _.a.insideShareIcon
				})), s.a.createElement("h2", {
					className: _.a.iconText
				}, O._("Post", null, {
					hk: "3eAGdj"
				}))), s.a.createElement("div", {
					className: _.a.iconWrapper
				}, s.a.createElement("button", {
					className: _.a.insideShareButton,
					onClick: t
				}, s.a.createElement(j.a, {
					className: _.a.insideShareIcon
				})), s.a.createElement("h2", {
					className: _.a.iconText
				}, O._("Download", null, {
					hk: "2Og0hf"
				})))), s.a.createElement("div", {
					className: _.a.outsideShareIconsWrapper
				}, Object.values(R).map(e => s.a.createElement("div", {
					key: e,
					className: _.a.iconWrapper
				}, s.a.createElement("button", {
					className: _.a.outsideShareButton
				}, s.a.createElement("img", {
					className: _.a.outsideShareIcon,
					alt: e,
					src: `${N.a.assetPath}/img/social-networks/${e}.png`
				})), s.a.createElement("h2", {
					className: _.a.iconText
				}, C()(e))))))),
				S = t("./src/reddit/pages/WrappedReddit/DefaultCard/index.m.less"),
				y = t.n(S);
			const {
				fbt: W
			} = t("./node_modules/fbt/lib/FbtPublic.js");
			var L = ({
				card: {
					title: e,
					subtitle: a,
					id: t
				}
			}) => s.a.createElement(s.a.Fragment, null, s.a.createElement("div", {
				id: t,
				className: y.a.headingSection
			}, s.a.createElement("div", {
				className: Object(i.a)(y.a.background, y.a.contentWrapper),
				style: {
					background: `url(${N.a.assetPath}/img/wrappedreddit/defaultcard/main_bg_YIR_d2x.png) no-repeat center center fixed`,
					backgroundSize: "cover"
				}
			}), s.a.createElement("div", {
				className: Object(i.a)(y.a.headingWrapper, y.a.headingContent)
			}, s.a.createElement("div", {
				className: y.a.headingText
			}, s.a.createElement("h1", {
				className: Object(i.a)(y.a.heading)
			}, s.a.createElement(h.a, {
				className: y.a.wrappedRedditLogo
			})), s.a.createElement("h1", {
				className: Object(i.a)(y.a.heading)
			}, e), s.a.createElement("h2", {
				className: y.a.subheading
			}, a)), s.a.createElement("div", {
				className: y.a.headingArt
			}, s.a.createElement("div", {
				className: y.a.defaultCardImageContainer
			}, s.a.createElement("div", {
				className: y.a.defaultCardImage
			}, s.a.createElement("img", {
				alt: "card pictire",
				className: y.a.fallbackStaticImage,
				src: `${N.a.assetPath}/img/wrappedreddit/defaultcard/main_artwork_YIR@2x.png`
			})))))));

			function P() {
				return (P = Object.assign || function(e) {
					for (var a = 1; a < arguments.length; a++) {
						var t = arguments[a];
						for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
					}
					return e
				}).apply(this, arguments)
			}
			const D = e => new Promise(a => {
				const t = (e => e.replace(/https|http/i, "https"))(e),
					r = new XMLHttpRequest;
				r.onload = function() {
					const e = new FileReader;
					e.onloadend = function() {
						a(e.result)
					}, e.readAsDataURL(r.response)
				}, r.open("GET", t), r.responseType = "blob", r.send()
			});
			var T = ({
					src: e,
					lowSrc: a = e,
					errorSrc: t = a,
					...r
				}) => {
					const c = Object(n.createRef)();
					return D(e).then(e => {
						c.current && e && (c.current.src = e)
					}).catch(() => {
						c.current && (c.current.src = t)
					}), s.a.createElement("img", P({
						ref: c,
						src: a
					}, r))
				},
				A = t("./src/reddit/pages/WrappedReddit/IntroCard/index.m.less"),
				B = t.n(A);
			const {
				fbt: F
			} = t("./node_modules/fbt/lib/FbtPublic.js");
			var K = ({
					card: {
						title: e,
						subtitle: a,
						id: t,
						templateImageUrl: r
					}
				}) => {
					const n = s.a.useMemo(() => s.a.createElement(T, {
						src: r,
						alt: "Intro Card Pictire",
						className: B.a.fallbackStaticImage
					}), [r]);
					return s.a.createElement(s.a.Fragment, null, s.a.createElement("div", {
						id: t,
						className: B.a.headingSection
					}, s.a.createElement("div", {
						className: Object(i.a)(B.a.background, B.a.contentWrapper),
						style: {
							background: `url(${N.a.assetPath}/img/wrappedreddit/defaultcard/main_bg_YIR_d2x.png) no-repeat center center fixed`,
							backgroundSize: "cover"
						}
					}), s.a.createElement("div", {
						className: Object(i.a)(B.a.headingWrapper, B.a.headingContent)
					}, s.a.createElement("div", {
						className: B.a.headingText
					}, s.a.createElement("h1", {
						className: Object(i.a)(B.a.heading)
					}, s.a.createElement(h.a, {
						className: B.a.wrappedRedditLogo
					})), s.a.createElement("h1", {
						className: Object(i.a)(B.a.heading)
					}, e), s.a.createElement("h2", {
						className: B.a.subheading
					}, a)), s.a.createElement("div", {
						className: B.a.headingArt
					}, s.a.createElement("div", {
						className: B.a.defaultCardImageContainer
					}, s.a.createElement("div", {
						className: B.a.defaultCardImage
					}, n))))))
				},
				M = t("./src/reddit/routes/postCreation/constants.ts");
			const Y = () => t.e(2).then(t.bind(null, "./node_modules/html-to-image/es/index.js")),
				{
					fbt: U
				} = t("./node_modules/fbt/lib/FbtPublic.js");
			var G = () => {
				var e;
				const a = Object(c.d)(),
					t = Object(c.e)(e => e.wrappedReddit.isCardsLoading),
					r = Object(c.e)(e => e.wrappedReddit.cards),
					b = Object(c.e)(e => e.wrappedReddit.cardsLoadingError),
					h = Object(c.e)(e => e.wrappedReddit.uploadCard),
					[E, N] = Object(n.useState)(0),
					[v, C] = Object(n.useState)(!1),
					[x, w] = Object(n.useState)(1),
					j = 6 * x >= r.length,
					k = r.length > 6,
					O = r.length > 6 && x > 1,
					R = 6 * (x - 1),
					S = R + 6,
					y = R + E;
				s.a.useEffect(() => {
					a(m.c()), a(m.b())
				}, []);
				const W = s.a.useCallback(() => C(!0), []),
					P = s.a.useCallback(() => C(!1), []),
					D = e => () => {
						N(e)
					},
					T = e => () => {
						w(e ? x - 1 : j ? 1 : x + 1), N(e ? 5 : 0)
					},
					A = s.a.useCallback(async () => {
						var e;
						const a = (null === (e = r[y]) || void 0 === e ? void 0 : e.id) || "",
							t = document.getElementById(a);
						if (t) {
							const e = await Y(),
								r = await e.toPng(t);
							if (r) {
								const e = document.createElement("a");
								e.download = `card_${a}.png`, e.href = r, e.click()
							}
						}
					}, [y, r]),
					B = s.a.useCallback(async () => {
						var e;
						const t = (null === (e = r[y]) || void 0 === e ? void 0 : e.id) || "";
						h[t] || await (async e => {
							const t = document.getElementById(e);
							if (t) {
								const r = await Y(),
									n = await r.toBlob(t);
								if (n) {
									const t = new File([n], `${e}.png`, {
										type: n.type
									});
									await a(o.g(t, l.FileSource.Clipboard, e))
								}
							}
						})(t), a(Object(d.b)(M.b)), a(o.c(t))
					}, [y, r, h]);
				return s.a.createElement(s.a.Fragment, null, t && s.a.createElement(p.a, null), b && s.a.createElement(f, {
					error: b
				}), r.length ? s.a.createElement(s.a.Fragment, null, r[y] && (e => (e => e.__typename === g)(e) ? s.a.createElement(K, {
					card: e
				}) : s.a.createElement(L, {
					card: e
				}))(r[y]), s.a.createElement("div", {
					className: _.a.carousel
				}, s.a.createElement("div", {
					className: _.a.buttonsWrapper
				}, s.a.createElement(u.k, {
					className: _.a.ctaButton,
					priority: u.c.Primary,
					onClick: W
				}, U._("Share", null, {
					hk: "2JaG4S"
				})), k && s.a.createElement(u.k, {
					className: _.a.ctaButton,
					priority: u.c.Primary,
					onClick: () => {
						const e = E + 1 === 6;
						e && w(j ? 1 : x + 1), N(e ? 0 : E + 1)
					}
				}, U._("Next", null, {
					hk: "2tKyCG"
				}))), s.a.createElement("div", {
					className: _.a.pager
				}, O && s.a.createElement("button", {
					onClick: T(!0)
				}, s.a.createElement("div", {
					className: Object(i.a)(_.a.nextDot)
				})), r.slice(R, S).map((e, a) => s.a.createElement("button", {
					key: a,
					onClick: D(a)
				}, s.a.createElement("div", {
					className: Object(i.a)(_.a.progressDot, {
						[_.a.active]: a === E
					})
				}))), k && s.a.createElement("button", {
					onClick: T()
				}, s.a.createElement("div", {
					className: Object(i.a)(_.a.nextDot)
				})))), v && s.a.createElement(I, {
					id: (null === (e = r[y]) || void 0 === e ? void 0 : e.id) || "",
					withOverlay: !0,
					closeModal: P,
					onOverlayClick: P,
					className: _.a.modalBody,
					overlayClassName: _.a.modalOverlay,
					downloadCard: A,
					postCard: B
				})) : s.a.createElement(s.a.Fragment, null))
			};
			const {
				fbt: Q
			} = t("./node_modules/fbt/lib/FbtPublic.js");
			a.default = () => s.a.createElement(G, null)
		}
	}
]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/WrappedReddit.3f26814d25294abde666.js.map