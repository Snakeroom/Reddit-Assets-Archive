// https://www.redditstatic.com/desktop2x/ReportPage.b0d3c7f3121f67355cdf.js
// Retrieved at 3/5/2020, 3:00:07 PM by Reddit Dataminer v1.0.0
(window.__LOADABLE_LOADED_CHUNKS__ = window.__LOADABLE_LOADED_CHUNKS__ || []).push([
	["ReportPage"], {
		"./src/reddit/components/ReportPage/AdditionalInfoInput/index.m.less": function(e, t, n) {
			e.exports = {
				AdditionalInfoCheckbox: "Sn4k24mpI2Iqd0y6hRfHR",
				additionalInfoCheckbox: "Sn4k24mpI2Iqd0y6hRfHR",
				AdditionalInfoCheckboxes: "Qy02kFHW1Wxlm6NzBRRL3",
				additionalInfoCheckboxes: "Qy02kFHW1Wxlm6NzBRRL3"
			}
		},
		"./src/reddit/components/ReportPage/ChildReasons/index.m.less": function(e, t, n) {
			e.exports = {
				closed: "_3ceGFHIChVwTgcPVv-10o8",
				open: "_1xtJcrCcTp-WmvdZXwBe7_",
				radioOptionsSectionHeader: "_1iVZ-Oi1fUebnVeLhxSMON",
				subSection: "_11KObJbK2W8HDf6XHEIpE7",
				topLevelSubSection: "_38pCQzUNJi96mv2Pcmiy10",
				Component: "_2In1yeZDKolFJ8jnru_OLv",
				component: "_2In1yeZDKolFJ8jnru_OLv"
			}
		},
		"./src/reddit/components/ReportPage/FinalPage/index.m.less": function(e, t, n) {
			e.exports = {
				BlockUserIcon: "_23DPLynKCAVL6VhX2uO2IO",
				blockUserIcon: "_23DPLynKCAVL6VhX2uO2IO",
				BlockUserHeader: "_2BdAdV74LI25vZzM59g4BT",
				blockUserHeader: "_2BdAdV74LI25vZzM59g4BT",
				OptionHeader: "_20az0Locm7QvCqtGhD4BZW",
				optionHeader: "_20az0Locm7QvCqtGhD4BZW",
				OptionDescription: "_397Sf8Eesq1bQuCTLDzp5w",
				optionDescription: "_397Sf8Eesq1bQuCTLDzp5w",
				OptionHolder: "_3MI-q_V0pcXjHrJK3SOTqL",
				optionHolder: "_3MI-q_V0pcXjHrJK3SOTqL"
			}
		},
		"./src/reddit/components/ReportPage/FirstPage/index.m.less": function(e, t, n) {
			e.exports = {
				contentPolicyHolder: "_2CCpZ0mco46HXNLgR2Q1dZ",
				Footer: "_2mEtX6RW0lCRV38vFKNbX3",
				footer: "_2mEtX6RW0lCRV38vFKNbX3",
				SubmitButton: "_1jygPdE7IFOzYnecMGpg_7",
				submitButton: "_1jygPdE7IFOzYnecMGpg_7"
			}
		},
		"./src/reddit/components/ReportPage/SubredditNameInput/index.m.less": function(e, t, n) {
			e.exports = {
				errorMessage: "_2DD_DQ9vtGYO1TcTpvikoA",
				Component: "_-1aNGca0_y0i8gvLJszOP",
				component: "_-1aNGca0_y0i8gvLJszOP"
			}
		},
		"./src/reddit/components/ReportPage/ThingUrlInput/index.m.less": function(e, t, n) {
			e.exports = {
				errorMessage: "_3ZZ9sFISo2mG6_gIICV23y",
				Component: "_1CIu3BZosOgKbC7hciWR_h",
				component: "_1CIu3BZosOgKbC7hciWR_h"
			}
		},
		"./src/reddit/components/ReportPage/UsernamesInput/index.m.less": function(e, t, n) {
			e.exports = {
				addUsernameButton: "_3V9qaN-cP01ZZpoAmEDMIC",
				addUsernameButtonIcon: "IYry9zwPd9rKRl5wEg9K0",
				addUsernameButtonText: "_1qKs7Imo55nkUh7Km8Pqrt",
				deleteUsernameFieldButton: "_2Vm85EV-41AvwOMtj-yoLj",
				errorMessage: "_2FbphG8Dmzh7sG2bYrtAJj",
				Component: "_14pd_IitAruPixza598UR6",
				component: "_14pd_IitAruPixza598UR6"
			}
		},
		"./src/reddit/icons/svgs/Checkmark/index.tsx": function(e, t, n) {
			"use strict";
			var s = n("./node_modules/react/index.js"),
				a = n.n(s);
			t.a = e => a.a.createElement("svg", {
				className: e.className,
				viewBox: "0 0 20 22",
				xmlns: "http://www.w3.org/2000/svg"
			}, a.a.createElement("g", null, a.a.createElement("path", {
				d: "M8.9310375,15.1995 C8.70135,15.41825 8.38963125,15.541375 8.0647875,15.541375 C8.052975,15.541375 8.04181875,15.54075 8.03000625,15.54075 C7.69335,15.531375 7.37506875,15.39075 7.15063125,15.151375 L4.0879125,11.88075 C3.637725,11.400125 3.68169375,10.662625 4.18700625,10.23325 C4.6916625,9.805125 5.4660375,9.846375 5.91688125,10.327625 L8.115975,12.676375 L14.8550063,6.25825 C15.3327563,5.802625 16.1091,5.802625 16.5875063,6.25825 C17.0659125,6.71325 17.0659125,7.452625 16.5875063,7.907625 L8.9310375,15.1995 Z",
				fill: "inherit"
			})))
		},
		"./src/reddit/icons/svgs/Trash2/index.m.less": function(e, t, n) {
			e.exports = {
				icon: "_1Fa4RPHlhrfUZuNaXK2-eP"
			}
		},
		"./src/reddit/icons/svgs/Trash2/index.tsx": function(e, t, n) {
			"use strict";
			n.d(t, "a", (function() {
				return l
			}));
			var s = n("./node_modules/react/index.js"),
				a = n.n(s),
				r = n("./src/lib/classNames/index.ts"),
				o = n("./src/reddit/icons/svgs/Trash2/index.m.less"),
				i = n.n(o);
			const l = e => a.a.createElement("svg", {
				className: Object(r.a)(i.a.icon, e.className),
				viewBox: "0 0 20 20",
				xmlns: "http://www.w3.org/2000/svg",
				onClick: e.onClick
			}, a.a.createElement("path", {
				d: "M16.5,2H12.71l-.85-.85A.5.5,0,0,0,11.5,1h-3a.5.5,0,0,0-.35.15L7.29,2H3.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h13a.5.5,0,0,0,.5-.5v-1A.5.5,0,0,0,16.5,2Z"
			}), a.a.createElement("path", {
				d: "M16.5,5H3.5a.5.5,0,0,0-.5.5v12A1.5,1.5,0,0,0,4.5,19h11A1.5,1.5,0,0,0,17,17.5V5.5A.5.5,0,0,0,16.5,5ZM6.75,15.5a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Z"
			}));
			t.b = l
		},
		"./src/reddit/pages/ReportPage/index.m.less": function(e, t, n) {
			e.exports = {
				content: "_3XhkdtfJL0p2aN1g0TM9dE",
				form: "_2sHffjYn-kNXleiwGcWKPz",
				header: "iaXpSE-6nnTZXMnW_57yv"
			}
		},
		"./src/reddit/pages/ReportPage/index.tsx": function(e, t, n) {
			"use strict";
			n.r(t);
			n("./node_modules/core-js/modules/es6.regexp.constructor.js");
			var s = n("./node_modules/react/index.js"),
				a = n.n(s),
				r = n("./node_modules/react-redux/es/index.js"),
				o = n("./node_modules/reselect/es/index.js"),
				i = n("./src/lib/formatPythonString/index.ts"),
				l = n("./src/config.ts"),
				d = n("./src/lib/lessComponent.tsx"),
				c = n("./src/reddit/components/ReportPage/index.m.less"),
				h = n.n(c),
				p = n("./node_modules/fbt/lib/FbtPublic.js");
			const m = d.a.header("Header", h.a),
				u = d.a.div("Description", h.a),
				g = d.a.div("LinkHolder", h.a),
				f = d.a.footer("Footer", h.a),
				C = d.a.a("FileAComplaintLink", h.a),
				E = d.a.a("RedirectToRedditLink", h.a);
			var R = e => a.a.createElement("div", {
					className: e.className
				}, a.a.createElement(m, null, e.complaintPageTitle), a.a.createElement(u, null, e.complaintPrompt || p.fbt._("If you think content on Reddit violates your intellectual property, you can file a complaint. Use the link bellow:", null, {
					hk: "4eHLfh"
				})), a.a.createElement(g, null, a.a.createElement(C, {
					href: e.complaintUrl
				}, e.complaintButtonText)), a.a.createElement(f, null, a.a.createElement(E, {
					href: "".concat(l.a.redditUrl)
				}, p.fbt._("Redirect back to your home in Reddit universe", null, {
					hk: "1pMLva"
				})))),
				x = n("./src/reddit/components/ReportPage/FinalPage/index.m.less"),
				y = n.n(x);
			const b = d.a.div("OptionHolder", y.a),
				P = d.a.div("OptionHeader", y.a),
				v = d.a.div("OptionDescription", y.a),
				S = d.a.header("Header", h.a),
				_ = d.a.footer("Footer", h.a),
				k = d.a.div("Description", h.a),
				F = d.a.a("Link", h.a),
				I = d.a.a("RedirectToRedditLink", h.a),
				U = "https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/what-report-abuse";
			class w extends a.a.Component {
				constructor() {
					super(...arguments), this.renderAbuseOfReportButtonOption = () => a.a.createElement(b, null, a.a.createElement(P, null, p.fbt._("Turn off free-form reports", null, {
						hk: "2yXM3i"
					})), a.a.createElement(v, null, p.fbt._("If you are a moderator, you can {=visit the Help Center} to learn how to modify your subreddit's reporting settings to disallow users from submitting free-form reports. We also have automated processes in place to prevent excessive reporting.", [p.fbt._param("=visit the Help Center", a.a.createElement(F, {
						target: "_blank",
						href: U
					}, p.fbt._("visit the Help Center", null, {
						hk: "1bc2jS"
					})))], {
						hk: "3sQZ0g"
					}))), this.renderWithoutOptions = () => a.a.createElement(a.a.Fragment, null, a.a.createElement(k, null, p.fbt._("We will investigate the content you reported and reach out if we have any additional questions.", null, {
						hk: "2tRkyQ"
					})), a.a.createElement(_, null, a.a.createElement(I, {
						href: "/"
					}, p.fbt._("Redirect back to your home in Reddit universe", null, {
						hk: "1pMLva"
					}))))
				}
				render() {
					const {
						props: e
					} = this;
					return a.a.createElement("div", {
						className: e.className
					}, a.a.createElement(S, null, p.fbt._("Thank you for your report.", null, {
						hk: "2l8iOp"
					})), e.chosenRule.isAbuseOfReportButton ? a.a.createElement(a.a.Fragment, null, a.a.createElement(k, null, p.fbt._("We've received your report. Here are some things you can do:", null, {
						hk: "12EkwP"
					})), this.renderAbuseOfReportButtonOption()) : this.renderWithoutOptions())
				}
			}
			var O = n("./src/reddit/components/AccordionSection/index.tsx"),
				N = n("./src/reddit/components/ContentPolicy/index.tsx"),
				D = n("./src/lib/classNames/index.ts"),
				V = n("./src/reddit/components/StructuredStyles/RadioInput/RadioOptionElement/index.tsx"),
				T = n("./src/reddit/components/Translated/index.tsx"),
				A = n("./src/reddit/controls/CheckboxWithLabel/index.tsx"),
				L = n("./src/reddit/components/ReportPage/AdditionalInfoInput/index.m.less"),
				M = n.n(L);
			const j = d.a.fieldset("Fieldset", h.a),
				B = d.a.div("AdditionalInfoCheckboxes", M.a),
				q = d.a.wrapped(A.a, "AdditionalInfoCheckbox", M.a);
			class H extends a.a.Component {
				constructor() {
					super(...arguments), this.state = {
						additionalInfo: []
					}, this.onAdditionalInfoCheckboxClick = e => () => {
						let t = [];
						t = this.state.additionalInfo.indexOf(e) > -1 ? this.state.additionalInfo.filter(t => e !== t).slice() : this.state.additionalInfo.concat([e]), this.setState({
							additionalInfo: t
						}), this.props.onAdditionalInfoChange(t)
					}
				}
				render() {
					const {
						props: e,
						state: t
					} = this;
					return a.a.createElement("div", {
						className: e.className
					}, a.a.createElement(j, null, a.a.createElement(B, null, e.additionalCheckboxes.checkboxes.map(e => a.a.createElement(q, {
						key: e.name,
						isSelected: t.additionalInfo.indexOf(e.name) > -1,
						onClick: this.onAdditionalInfoCheckboxClick(e.name),
						text: e.textToShow
					})))))
				}
			}
			var W = n("./src/reddit/components/ReportPage/CustomTextInput/index.tsx"),
				Z = n("./src/reddit/components/StructuredStyles/Forms/LabeledControl/index.tsx"),
				K = n("./src/reddit/components/ReportPage/SubredditNameInput/index.m.less"),
				z = n.n(K);
			const X = d.a.header("InputDescription", h.a);
			class G extends a.a.Component {
				constructor() {
					super(...arguments), this.state = {
						subredditName: ""
					}, this.onSubredditNameChange = e => {
						this.setState({
							subredditName: e.target.value
						}), this.props.onSubredditNameChange(e.target.value), this.props.onMakeFieldDirty("subredditName")
					}
				}
				componentDidMount() {
					this.props.onSubredditNameChange("")
				}
				render() {
					const {
						props: e,
						state: t
					} = this;
					let n = !1,
						s = "";
					if (e.reportError && e.reportError.fields) {
						const t = e.reportError.fields.filter(e => "sr_name" === e.field || "current_user" === e.field);
						t.length > 0 && (n = !0, s = t[0].msg)
					}
					return a.a.createElement("div", {
						className: e.className
					}, a.a.createElement("fieldset", {
						className: h.a.fieldset
					}, a.a.createElement(X, null, p.fbt._("You must be a moderator of the subreddit in which the evasion is taking place.", null, {
						hk: "2jQgis"
					})), a.a.createElement("div", {
						className: h.a.field
					}, a.a.createElement(Z.b, {
						backgroundColorState: Z.a.WhiteFields,
						className: h.a.input,
						label: p.fbt._("Subreddit", null, {
							hk: "3cWPAa"
						}),
						onChange: this.onSubredditNameChange,
						state: !e.showErrors || !n && e.regexValid || e.isDirty ? void 0 : Z.d.Invalid,
						value: t.subredditName
					}), !e.showErrors || !n && e.regexValid || e.isDirty ? null : a.a.createElement("div", {
						className: z.a.errorMessage
					}, e.regexValid ? n ? s : "" : p.fbt._("Please match the requested format.", null, {
						hk: "3TUeTn"
					})))))
				}
			}
			var Q = d.a.wrapped(G, "Component", z.a),
				J = n("./src/reddit/components/ReportPage/ThingUrlInput/index.m.less"),
				Y = n.n(J);
			const $ = d.a.header("InputDescription", h.a);
			class ee extends a.a.Component {
				constructor() {
					super(...arguments), this.state = {
						thingUrl: ""
					}, this.onThingUrlChange = e => {
						this.setState({
							thingUrl: e.target.value
						}), this.props.onThingUrlChange(e.target.value), this.props.onMakeFieldDirty("thingId")
					}
				}
				componentDidMount() {
					this.props.onThingUrlChange("")
				}
				render() {
					const {
						props: e,
						state: t
					} = this;
					let n = !1,
						s = "";
					if (e.reportError && e.reportError.fields) {
						const t = e.reportError.fields.filter(e => "thing_id" === e.field || "modmail_conv_id" === e.field || "modmail_msg_id" === e.field || "current_user" === e.field);
						t.length > 0 && (n = !0, s = t[0].msg)
					}
					return a.a.createElement("div", {
						className: e.className
					}, a.a.createElement("fieldset", {
						className: h.a.fieldset
					}, e.description && a.a.createElement($, null, e.description), a.a.createElement("div", {
						className: h.a.field
					}, a.a.createElement(Z.b, {
						backgroundColorState: Z.a.WhiteFields,
						className: h.a.input,
						label: p.fbt._("Link to Post/Comment/PM on Reddit", null, {
							hk: "23bqQ6"
						}),
						onChange: this.onThingUrlChange,
						state: !e.showErrors || !n && e.regexValid || e.isDirty ? void 0 : Z.d.Invalid,
						value: t.thingUrl
					}), !e.showErrors || !n && e.regexValid || e.isDirty ? null : a.a.createElement("div", {
						className: Y.a.errorMessage
					}, e.regexValid ? n ? s : "" : p.fbt._("Please match the requested format.", null, {
						hk: "3TUeTn"
					})))))
				}
			}
			var te = d.a.wrapped(ee, "Component", Y.a),
				ne = n("./src/reddit/icons/svgs/Plus/index.tsx"),
				se = n("./src/reddit/icons/svgs/Trash2/index.tsx"),
				ae = n("./src/reddit/components/ReportPage/UsernamesInput/index.m.less"),
				re = n.n(ae);
			const oe = 10,
				ie = ["u/"],
				le = d.a.header("InputDescription", h.a);
			class de extends a.a.Component {
				constructor() {
					super(...arguments), this.state = {
						usernames: ie
					}, this.getAddUsernameButton = () => a.a.createElement("button", {
						className: re.a.addUsernameButton,
						onClick: this.handleAddUsername
					}, a.a.createElement(ne.a, {
						className: re.a.addUsernameButtonIcon
					}), a.a.createElement("span", {
						className: re.a.addUsernameButtonText
					}, p.fbt._("Add username", null, {
						hk: "51073"
					}))), this.getDeleteUsernameButton = e => a.a.createElement("button", {
						className: re.a.deleteUsernameFieldButton,
						onClick: this.handleRemoveUsername(e)
					}, a.a.createElement(se.b, null)), this.handleUsernameChange = e => t => {
						const n = this.state.usernames.map((n, s) => e !== s ? n : t.target.value);
						this.setState({
							usernames: n
						}), this.props.onUsernamesChange(n), this.props.onMakeFieldDirty("username_".concat(e))
					}, this.handleAddUsername = () => {
						const e = this.state.usernames.concat(["u/"]);
						this.setState({
							usernames: e
						}), this.props.onUsernamesChange(e)
					}, this.handleRemoveUsername = e => () => {
						this.updateFieldsValidity(e);
						const t = this.state.usernames.filter((t, n) => e !== n);
						this.setState({
							usernames: t
						}), this.props.onUsernamesChange(t), this.removeUsernameError(e)
					}, this.updateFieldsValidity = e => {
						const t = this.state.usernames.length;
						let n = {};
						for (let s = e + 1; s < t; s++) n = Object.assign({}, n, {
							["username_".concat(s - 1)]: this.props.fieldsValidity["username_".concat(s)]
						});
						this.props.onFieldsValidityChange(Object.assign({}, this.props.fieldsValidity, n))
					}, this.removeUsernameError = e => {
						const {
							props: t
						} = this;
						let n;
						if (t.reportError && t.reportError.fields && t.reportError.fields.length) {
							let s = t.reportError.fields.filter(t => t.field !== "username_" + e);
							n = {
								fields: s = s.map((function(t) {
									const n = t.field.startsWith("username_"),
										s = +t.field.substring(9);
									if (n && s > e) {
										return {
											field: "username_".concat(s - 1),
											msg: t.msg
										}
									}
									return t
								})),
								type: t.reportError.type
							}, t.onReportErrorChange(n)
						}
					}
				}
				componentDidMount() {
					this.props.onUsernamesChange(ie)
				}
				render() {
					const {
						props: e,
						state: t
					} = this;
					return a.a.createElement("div", {
						className: e.className
					}, a.a.createElement("fieldset", {
						className: h.a.fieldset
					}, a.a.createElement(le, null, e.banEvadingUsernames ? p.fbt._("List up ban-evading accounts, starting with the originally banned user.", null, {
						hk: "16rcm5"
					}) : e.usernamesInputDescription || p.fbt._("Please provide related usernames you want to report.", null, {
						hk: "2loBL6"
					})), t.usernames.map((n, s) => {
						let r = !1,
							o = "";
						if (e.reportError && e.reportError.fields) {
							const t = e.reportError.fields.filter(e => e.field === "username_".concat(s));
							t.length > 0 && (r = !0, o = t[0].msg)
						}
						const i = !1 !== e.fieldsValidity["username_".concat(s)];
						return a.a.createElement("div", {
							className: h.a.field
						}, a.a.createElement(Z.b, {
							backgroundColorState: Z.a.WhiteFields,
							className: h.a.input,
							label: p.fbt._("Username", null, {
								hk: "4hkwGi"
							}) + (e.oneUsername ? "" : " ".concat(s + 1)),
							onChange: this.handleUsernameChange(s),
							state: !e.showErrors || !r && i || e.dirtyFields["username_".concat(s)] ? void 0 : Z.d.Invalid,
							value: n
						}), t.usernames.length > 1 && this.getDeleteUsernameButton(s), e.showErrors && (r || !i) && !e.dirtyFields["username_".concat(s)] && a.a.createElement("div", {
							className: re.a.errorMessage
						}, i ? r ? o : "" : p.fbt._("Please match the requested format.", null, {
							hk: "3TUeTn"
						})))
					}), !e.oneUsername && t.usernames.length < oe ? this.getAddUsernameButton() : null))
				}
			}
			var ce = d.a.wrapped(de, "Component", re.a),
				he = n("./src/reddit/components/ReportPage/ChildReasons/index.m.less"),
				pe = n.n(he);
			class me extends a.a.Component {
				constructor() {
					super(...arguments), this.handleClickIfChildrenExist = (e, t) => () => {
						this.props.onUpdateRulesSequence(e, t), this.onChosenRuleCleared()
					}, this.handleClickIfChildrenNotExist = (e, t, n) => () => {
						this.props.onUpdateRulesSequence(e, t), this.onRedditRuleChange(n)
					}, this.onRedditRuleChange = e => {
						const t = {
							reason: e
						};
						this.props.onChosenReasonPayloadChange(t), this.props.onShowErrorsChange(!1)
					}, this.onChosenRuleCleared = () => {
						this.props.onChosenReasonPayloadChange()
					}, this.onFieldChange = e => t => {
						let n;
						this.props.chosenReasonPayload && (n = Object.assign({}, this.props.chosenReasonPayload, {
							[e]: t
						}), this.props.onChosenReasonPayloadChange(n))
					}
				}
				render() {
					const {
						props: e
					} = this, {
						rulesSequence: t
					} = e, n = e.parentRule.nextStepReasons, s = t && t.length > e.depthOfParentRule ? t[e.depthOfParentRule] : -1, r = t && t.length > e.depthOfParentRule + 1 ? t[e.depthOfParentRule + 1] : -1, o = 0 === e.depthOfParentRule, i = s === e.indexOfParentRule;
					if (!n || !n.length) return null;
					const l = i ? pe.a.open : pe.a.closed,
						d = o ? pe.a.topLevelSubSection : pe.a.subSection;
					return a.a.createElement("div", {
						className: Object(D.a)(l, d, e.className)
					}, e.depthOfParentRule > 0 ? a.a.createElement("div", {
						className: pe.a.radioOptionsSectionHeader
					}, e.parentRule.nextStepHeader || a.a.createElement(T.a, {
						msgId: "reportPage.selectARule"
					})) : null, n.map((t, n) => {
						const s = r === n;
						return a.a.createElement(a.a.Fragment, {
							key: t.reasonText || t.reasonTextToShow
						}, a.a.createElement(V.a, {
							altColor: !0,
							value: t.reasonText ? t.reasonText : "",
							label: t.reasonTextToShow,
							selected: s,
							onClick: t.nextStepReasons && t.nextStepReasons.length ? this.handleClickIfChildrenExist(n, e.depthOfParentRule + 1) : this.handleClickIfChildrenNotExist(n, e.depthOfParentRule + 1, t)
						}), s && t.canSpecifySubreddit && a.a.createElement(Q, {
							depth: e.depthOfParentRule + 1,
							isDirty: e.dirtyFields.subredditName,
							onMakeFieldDirty: e.onMakeFieldDirty,
							onSubredditNameChange: this.onFieldChange("subredditName"),
							regexValid: e.fieldsValidity.subredditName,
							reportError: e.reportError,
							showErrors: e.showErrors
						}), s && t.canSpecifyUsernames && a.a.createElement(ce, {
							banEvadingUsernames: t.banEvadingUsernames,
							usernamesInputDescription: t.usernamesInputDescription,
							dirtyFields: e.dirtyFields,
							fieldsValidity: e.fieldsValidity,
							oneUsername: t.oneUsername,
							onFieldsValidityChange: e.onFieldsValidityChange,
							onMakeFieldDirty: e.onMakeFieldDirty,
							onReportErrorChange: e.onReportErrorChange,
							onUsernamesChange: this.onFieldChange("usernames"),
							reportError: e.reportError,
							showErrors: e.showErrors
						}), s && t.canSpecifyThing && a.a.createElement(te, {
							depth: e.depthOfParentRule + 1,
							isDirty: e.dirtyFields.thingId,
							onMakeFieldDirty: e.onMakeFieldDirty,
							onThingUrlChange: this.onFieldChange("thingUrl"),
							regexValid: e.fieldsValidity.thingUrl,
							reportError: e.reportError,
							showErrors: e.showErrors,
							description: t.thingInputDescription
						}), s && t.additionalCheckboxes && t.additionalCheckboxes.checkboxes && t.additionalCheckboxes.checkboxes.length && a.a.createElement(H, {
							additionalCheckboxes: t.additionalCheckboxes,
							depth: e.depthOfParentRule + 1,
							onAdditionalInfoChange: this.onFieldChange("additionalInfo")
						}), s && t.canWriteNotes && a.a.createElement(W.a, {
							depth: e.depthOfParentRule + 1,
							onCustomTextChange: this.onFieldChange("customText"),
							title: t.notesInputTitle,
							description: t.notesInputDescription
						}), a.a.createElement(me, {
							chosenReasonPayload: e.chosenReasonPayload,
							depthOfParentRule: e.depthOfParentRule + 1,
							dirtyFields: e.dirtyFields,
							fieldsValidity: e.fieldsValidity,
							indexOfParentRule: n,
							onChosenReasonPayloadChange: e.onChosenReasonPayloadChange,
							onFieldsValidityChange: e.onFieldsValidityChange,
							onMakeFieldDirty: e.onMakeFieldDirty,
							onReportErrorChange: e.onReportErrorChange,
							onShowErrorsChange: e.onShowErrorsChange,
							onUpdateRulesSequence: e.onUpdateRulesSequence,
							parentRule: t,
							reportError: e.reportError,
							rulesSequence: e.rulesSequence,
							showErrors: e.showErrors
						}))
					}))
				}
			}
			var ue = d.a.wrapped(me, "Component", pe.a);
			class ge extends a.a.Component {
				render() {
					const {
						props: e
					} = this;
					return a.a.createElement(ue, {
						chosenReasonPayload: e.chosenReasonPayload,
						depthOfParentRule: 0,
						dirtyFields: e.dirtyFields,
						fieldsValidity: e.fieldsValidity,
						indexOfParentRule: e.indexOfReason,
						onChosenReasonPayloadChange: e.onChosenReasonPayloadChange,
						onFieldsValidityChange: e.onFieldsValidityChange,
						onMakeFieldDirty: e.onMakeFieldDirty,
						onReportErrorChange: e.onReportErrorChange,
						onShowErrorsChange: e.onShowErrorsChange,
						onUpdateRulesSequence: e.onUpdateRulesSequence,
						parentRule: e.reason,
						reportError: e.reportError,
						rulesSequence: e.rulesSequence,
						showErrors: e.showErrors
					})
				}
			}
			var fe = n("./src/reddit/controls/Button/index.tsx"),
				Ce = n("./src/reddit/helpers/reportPage/index.ts"),
				Ee = n("./src/reddit/layout/row/Inline/index.tsx"),
				Re = n("./src/reddit/models/RulesSequence/index.ts"),
				xe = n("./src/reddit/components/ReportPage/FirstPage/index.m.less"),
				ye = n.n(xe);
			const be = d.a.header("Header", h.a),
				Pe = d.a.wrapped(Ee.a, "Footer", ye.a),
				ve = d.a.wrapped(fe.f, "SubmitButton", ye.a),
				Se = Object(o.c)({
					initialReason: e => e.reportPage.initialReason
				});
			class _e extends a.a.Component {
				constructor(e) {
					super(e), this.onSubmit = () => {
						this.setState({
							showErrors: !0
						}), this.props.onSubmit()
					}, this.handleAccordionSectionOpen = (e, t) => () => this.onUpdateRulesSequence(e, t), this.onUpdateRulesSequence = (e, t) => {
						this.state.rulesSequence.update(e, t), this.forceUpdate()
					}, this.onShowErrorsChange = e => {
						this.setState({
							showErrors: e
						})
					}, this.state = {
						gotInitialReason: !1,
						rulesSequence: new Re.a,
						showErrors: !1
					}
				}
				componentWillReceiveProps(e) {
					if (e.reasons && e.reasons.length && e.initialReason && !this.state.gotInitialReason) {
						const t = Object(Ce.a)(e.reasons, e.initialReason);
						this.setState({
							gotInitialReason: !0,
							rulesSequence: t
						});
						const n = t.getSequence();
						let s = e.reasons;
						if (n.length) {
							let e = s[n[0]];
							for (let t = 0; t < n.length; t++)(e = s[n[t]]).nextStepReasons && (s = e.nextStepReasons);
							e.nextStepReasons && e.nextStepReasons.length || this.props.onChosenReasonPayloadChange({
								reason: e,
								usernames: e.canSpecifyUsernames ? ["u/"] : void 0
							})
						}
					}
				}
				render() {
					const {
						props: e
					} = this, {
						reasons: t
					} = e;
					return t && t.length ? a.a.createElement("div", {
						className: e.className
					}, a.a.createElement(be, null, a.a.createElement(T.a, {
						msgId: "reportPage.form.header"
					})), t.map((e, t) => this.renderRulesSection(e, t)), a.a.createElement(Pe, null, a.a.createElement("div", {
						className: ye.a.contentPolicyHolder
					}, a.a.createElement(N.a, null)), a.a.createElement(ve, {
						onClick: this.onSubmit,
						disabled: !e.isReasonChosen
					}, e.isReportPending ? a.a.createElement(T.a, {
						msgId: "reportPage.submitButton.pending"
					}) : a.a.createElement(T.a, {
						msgId: "reportPage.submitButton.submit"
					})))) : null
				}
				renderRulesSection(e, t) {
					const {
						props: n,
						state: s
					} = this, r = s.rulesSequence.getSequence();
					return a.a.createElement(O.a, {
						key: e.reasonTextToShow,
						onOpen: this.handleAccordionSectionOpen(t, 0),
						open: r.length > 0 && r[0] === t,
						title: e.reasonTextToShow
					}, a.a.createElement(ge, {
						chosenReasonPayload: n.chosenReasonPayload,
						dirtyFields: n.dirtyFields,
						fieldsValidity: n.fieldsValidity,
						indexOfReason: t,
						onChosenReasonPayloadChange: n.onChosenReasonPayloadChange,
						onFieldsValidityChange: n.onFieldsValidityChange,
						onMakeFieldDirty: n.onMakeFieldDirty,
						onReportErrorChange: n.onReportErrorChange,
						onShowErrorsChange: this.onShowErrorsChange,
						onUpdateRulesSequence: this.onUpdateRulesSequence,
						reason: e,
						reportError: n.reportError,
						rulesSequence: r,
						showErrors: s.showErrors
					}))
				}
			}
			var ke = Object(r.b)(Se)(_e),
				Fe = n("./src/reddit/contexts/ApiContext.tsx"),
				Ie = n("./src/reddit/endpoints/post/index.tsx"),
				Ue = n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),
				we = n("./src/reddit/selectors/user.ts"),
				Oe = n("./src/reddit/pages/ReportPage/index.m.less"),
				Ne = n.n(Oe);
			const De = Object(o.c)({
					currentUser: we.i,
					reportPageRules: e => e.reportPage.reportPageRules
				}),
				Ve = Object(r.b)(De);
			class Te extends a.a.Component {
				constructor() {
					super(...arguments), this.state = {
						dirtyFields: {},
						fieldsValidity: {},
						reportError: null,
						reportPending: !1,
						reportSuccess: !1,
						showFileAComplaintPage: !1
					}, this.onChosenReasonPayloadChange = e => {
						this.setState({
							chosenReasonPayload: e
						})
					}, this.onMakeFieldDirty = e => {
						this.setState({
							dirtyFields: Object.assign({}, this.state.dirtyFields, {
								[e]: !0
							})
						})
					}, this.checkRegexValidity = e => {
						let t = !0,
							n = {};
						if (void 0 !== e.thingUrl) {
							const s = new RegExp(Ce.d);
							let a = !0;
							"" === e.thingUrl.trim() && e.reason.thingIsOptional || (a = s.test(e.thingUrl.trim())), t = t && a, n = Object.assign({}, n, {
								thingUrl: a
							})
						}
						if (void 0 !== e.subredditName) {
							const s = new RegExp(Ce.c).test(e.subredditName.trim());
							t = t && s, n = Object.assign({}, n, {
								subredditName: s
							})
						}
						if (e.usernames && e.usernames.length) {
							const s = new RegExp(Ce.e);
							let a = {};
							for (let n = 0; n < e.usernames.length; n++) {
								const r = e.usernames[n].trim(),
									o = s.test(r) && "u/" !== r;
								t = t && o, a = Object.assign({}, a, {
									["username_".concat(n)]: o
								})
							}
							n = Object.assign({}, n, a)
						}
						return this.onFieldsValidityChange(n), t
					}, this.onFieldsValidityChange = e => {
						this.setState({
							fieldsValidity: e
						})
					}, this.onReportErrorChange = e => {
						this.setState({
							reportError: e
						})
					}, this.onSubmit = async () => {
						const {
							props: e,
							state: t
						} = this, {
							chosenReasonPayload: n
						} = t;
						if (!t.reportPending && (this.setState({
								dirtyFields: {}
							}), n))
							if (n.reason.fileComplaint) this.setState({
								showFileAComplaintPage: !0
							});
							else if (this.checkRegexValidity(n)) {
							this.setState({
								reportPending: !0
							});
							let t = await Object(Ie.n)(e.apiContext(), n);
							t.ok ? this.setState({
								reportSuccess: !0
							}) : (t.body.json && t.body.json.errors.length && (t = Object.assign({}, t, {
								ok: !1,
								error: Object(Ue.a)(t)
							})), this.setState({
								reportError: t.error,
								reportPending: !1
							}))
						}
					}
				}
				render() {
					const {
						props: e
					} = this;
					return e.currentUser ? a.a.createElement("div", {
						className: e.className
					}, a.a.createElement("div", {
						className: Ne.a.content
					}, a.a.createElement("h1", {
						className: Ne.a.header
					}, a.a.createElement(T.a, {
						msgId: "reportPage.header"
					})), e.reportPageRules && e.reportPageRules.length ? a.a.createElement("div", {
						className: Ne.a.form
					}, this.getContent()) : a.a.createElement("div", null, a.a.createElement(T.a, {
						msgId: "reportPage.loading"
					})))) : null
				}
				getContent() {
					const {
						state: e
					} = this, {
						chosenReasonPayload: t
					} = e;
					return t && t.reason.fileComplaint && e.showFileAComplaintPage ? a.a.createElement(R, {
						complaintButtonText: t.reason.complaintButtonText,
						complaintPageTitle: t.reason.complaintPageTitle,
						complaintPrompt: t.reason.complaintPrompt,
						complaintUrl: Object(i.a)(decodeURI(t.reason.complaintUrl), {
							thing: void 0
						})
					}) : t && e.reportSuccess ? a.a.createElement(w, {
						chosenRule: t.reason
					}) : this.getFirstPage()
				}
				getFirstPage() {
					const {
						props: e,
						state: t
					} = this, {
						chosenReasonPayload: n
					} = t;
					return a.a.createElement(ke, {
						chosenReasonPayload: n,
						dirtyFields: t.dirtyFields,
						fieldsValidity: t.fieldsValidity,
						onChosenReasonPayloadChange: this.onChosenReasonPayloadChange,
						onFieldsValidityChange: this.onFieldsValidityChange,
						onMakeFieldDirty: this.onMakeFieldDirty,
						onReportErrorChange: this.onReportErrorChange,
						onSubmit: this.onSubmit,
						isReasonChosen: !!n,
						isReportPending: t.reportPending,
						reasons: e.reportPageRules,
						reportError: t.reportError
					})
				}
			}
			t.default = Object(Fe.b)(Ve(Te))
		}
	}
]);
//# sourceMappingURL=ReportPage.b0d3c7f3121f67355cdf.js.map